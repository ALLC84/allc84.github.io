---
import { ViewTransitions } from 'astro:transitions';
import '@styles/variables.css';
import '@styles/reset.css';

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="CV de Alejandro Llorente, desarrollador web especializado en front end."
    />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Outfit:wght@700;900&display=swap" rel="stylesheet">
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <ViewTransitions />
  </head>
  <body>
    <div class="background-gradient"></div>
    
    <div class="layout-grid">
      <!-- Navigation / Dock -->
      <nav class="nav-area">
        <slot name="nav" />
      </nav>

      <!-- Main Content Grid -->
      <main class="content-area">
        <!-- Profile / Aside Section -->
        <aside class="profile-section bento-card">
          <slot name="aside" />
        </aside>

        <!-- Header / Intro Section -->
        <header class="header-section bento-card">
          <slot name="header" />
        </header>

        <!-- Main Details Section -->
        <section class="details-section">
          <slot name="main"/>
        </section>
        
        <!-- Footer -->
        <footer class="footer-section">
          <slot name="footer" />
        </footer>
      </main>
    </div>
  </body>
</html>

<style>
  /* Background Effect */
  .background-gradient {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 15% 50%, rgba(99, 102, 241, 0.15), transparent 25%),
      radial-gradient(circle at 85% 30%, rgba(168, 85, 247, 0.15), transparent 25%);
    z-index: -1;
    pointer-events: none;
  }

  /* Main Layout Grid */
  .layout-grid {
    max-width: var(--layout-max-width);
    margin: 0 auto;
    padding: var(--space-md);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  /* Content Area Grid */
  .content-area {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-md);
    width: 100%;
  }

  /* Bento Card Style */
  :global(.bento-card) {
    background: var(--bg-card);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--border-color);
    border-radius: var(--card-border-radius);
    padding: var(--space-lg);
    transition: transform var(--transition-normal), border-color var(--transition-normal);
  }

  :global(.bento-card:hover) {
    border-color: var(--border-color-hover);
    background: var(--bg-card-hover);
    transform: translateY(-2px);
  }

  /* Responsive Grid */
  @media (min-width: 768px) {
    .content-area {
      grid-template-columns: 300px 1fr;
      grid-template-rows: auto 1fr auto;
      grid-template-areas: 
        "profile header"
        "profile details"
        "profile footer";
    }

    .profile-section {
      grid-area: profile;
      position: sticky;
      top: var(--space-md);
      height: fit-content;
      max-height: calc(100vh - var(--space-lg));
      overflow-y: auto;
    }

    .header-section {
      grid-area: header;
    }

    .details-section {
      grid-area: details;
    }

    .footer-section {
      grid-area: footer;
    }
  }

  /* Navigation Area */
  .nav-area {
    position: fixed;
    bottom: var(--space-md);
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    width: auto;
  }
  
  @media (min-width: 1024px) {
     .layout-grid {
        padding: var(--space-lg);
     }
  }
</style>

